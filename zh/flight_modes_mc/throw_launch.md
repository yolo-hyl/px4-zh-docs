# 抛投发射（多旋翼）

<Badge type="tip" text="PX4 v1.15" /> <Badge type="warning" text="Experimental" />

:::warning 实验性
该功能在 PX4 v1.15 中引入。

- 尚未在不同机体配置或场景中广泛测试。
- 大多数测试在位置模式下进行。
  其他模式也应正常工作。

:::

此功能允许多旋翼通过在固定位置启动后将其抛入空中来开始飞行。
机体在检测到发射后才会开启电机，并根据当前模式运行。

当启用抛投发射时，机体最初处于"锁定"状态，此时螺旋桨不会旋转。
螺旋桨不会在机体被抛出或解除武装前激活，且在此期间武装提示音会持续播放。
机体在武装后不会自动解除武装，如果不选择抛出，必须手动解除武装。

机体通过检测达到一定速度（5m/s）来判断是否被抛出，并在抛物线顶点（当判断机体开始下落时）启动电机。
需要将机体抛得足够高，使其在接近人群或障碍物之前能够稳定高度。

注意事项：

- 该模式默认禁用，必须在武装前通过[参数](#参数)启用。
- 启用后无法通过正常模式从地面起飞。
- 在武装后和抛出前不应运输机体。
  特别是不应从移动平台执行抛投。
  原因是电机启动条件依赖多旋翼的绝对速度，不考虑任何附加运动。
  从移动平台抛出无人机可能导致电机提前启动。

## 安全

:::warning
抛投发射有危险，需要操作员手持已武装的多旋翼并处于飞行附近。
:::

测试前请确保飞行器能够通过正常的位置或起飞模式起飞。
同时确保在启用该功能后，螺旋桨在武装时不会旋转。

此外：

1. 佩戴安全装备。
   建议使用护目镜和工作手套。
1. 准备一个容易访问且测试过的[kill switch](../config/safety.md#kill-switch)。
   提醒操作员保持警惕，必要时使用kill switch。
   飞行员容易忘记飞行器可以更换，但人不能！
1. 尽可能在无螺旋桨的情况下测试。
   保持拆卸螺旋桨的工具附近可用。
1. 至少由两人测试该功能——一人操作飞行器，另一人操作遥控器。
1. 请记住抛出后飞行器的精确行为可能难以预测，因为它严重依赖抛投方式。
   有时它会完美停留在原地，但有时（例如由于过度翻滚），它可能会在稳定时向一侧漂移。
   保持安全距离！

对于新飞行器的首次飞行，我们建议进行[无螺旋桨的抛投发射测试](#抛投发射预测试)（见下文）。

## 抛投发射预测试

无螺旋桨的抛投发射可用于确认武装不会提前发生，并让操作员了解飞行时的预期表现。

测试步骤：

1. 拆卸螺旋桨。
1. 将 [COM_THROW_EN](../advanced_config/parameter_reference.md#COM_THROW_EN) 设置为 `Enabled`。
1. 启动飞行器。
   发动机不应旋转，但飞行器应处于武装状态并持续播放武装提示音。
1. 将飞行器抛向约2米高空中。
   如果飞行器未被抛得足够高，电机将不会启动。
1. 发动机应在越过顶点后立即启动。
1. 触发kill switch（理想情况下应由第二人操作遥控器）。
1. 接住无人机。
   记得使用安全手套！

## 抛投发射

抛投发射的步骤：

1. 将 [COM_THROW_EN](../advanced_config/parameter_reference.md#COM_THROW_EN) 设置为 `Enabled`。
1. 启动飞行器。
   螺旋桨不应旋转，但飞行器应处于武装状态并持续播放武装提示音。
1. 将飞行器向前上方抛出（建议距离约2米，高度约2米）。
   - 飞行器必须达到 [COM_THROW_SPEED](../advanced_config/parameter_reference.md#COM_THROW_SPEED) 的速度（默认设置为5 m/s）才能检测到发射。
     如果未达到此速度，电机将不会启动，飞行器将坠落。
   - 尽量避免抛投时过度旋转，这可能导致无人机失效或行为不可预测。
     "过度旋转"的具体含义取决于平台：例如，用于测试的[PX4Vision](../complete_vehicles_mc/px4_vision_kit.md)在旋转2-3圈后仍能恢复。
1. 在检测到向下速度（飞行器达到顶点并开始下落）后，电机应启动，飞行器将按当前模式飞行。

## 参数

以下参数可用于启用和配置抛投发射：

- [COM_THROW_EN](../advanced_config/parameter_reference.md#COM_THROW_EN) 启用该功能。
- [COM_THROW_SPEED](../advanced_config/parameter_reference.md#COM_THROW_SPEED) 确定飞行器应达到的最低速度以检测抛投。
  如果未达到，发动机将不会启动。

## 参见

- [起飞模式（固定翼）> 弹射/手动发射](../flight_modes_fw/takeoff.md#catapult-hand-launch)。

<!--
Notes:
https://github.com/PX4/PX4-Autopilot/pull/23822
https://github.com/PX4/PX4-Autopilot/blob/371a99c3221dd09dce0b218c45df405188d96cfd/src/modules/commander/Commander.cpp#L1894-L1896 - lockdown setting
-->